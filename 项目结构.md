# 📁 项目结构说明

## 📚 主要文档

| 文档 | 描述 | 用途 |
|------|------|------|
| **[README.md](README.md)** | 项目主页 | 项目概述、快速开始 |
| **[快速开始.md](快速开始.md)** | 完整使用指南 | 详细安装、配置、故障排除 |
| **[CONTRIBUTING.md](CONTRIBUTING.md)** | 贡献指南 | 开发者参考 |

## 🗂️ 核心目录

### 源码目录
```
cmd/                    # 主程序入口
├── dcgm-exporter/     # 主程序
internal/              # 内部包
├── pkg/               # 核心逻辑
│   ├── dcgmprovider/  # NVIDIA DCGM提供者
│   ├── hygonprovider/ # 海光DCU提供者（新增）
│   └── collector/     # 指标收集器
pkg/                   # 公共包
└── cmd/               # 命令行接口
```

### 配置目录
```
etc/                   # 配置文件
├── default-counters.csv    # NVIDIA GPU指标配置
├── hygon-counters.csv      # 海光DCU指标配置（新增）
└── *.csv              # 其他指标配置
```

### 部署目录
```
deployment/            # Kubernetes部署
├── hygon-dcgm-exporter.yaml  # 海光DCU部署配置（新增）
├── Chart.yaml         # Helm Chart
└── templates/         # Helm模板

docker/                # Docker配置
├── Dockerfile.hygon   # 海光DCU镜像（新增）
├── Dockerfile.ubuntu  # Ubuntu镜像
└── *.sh              # 启动脚本
```

### 监控目录
```
grafana/               # Grafana配置
├── dashboards/        # 仪表板
└── provisioning/      # 自动配置

prometheus/            # Prometheus配置
├── prometheus.yml     # 主配置
└── rules/            # 告警规则
```

### 脚本目录
```
scripts/               # 构建脚本
├── build-hygon.sh    # 海光DCU构建脚本（新增）
└── *.sh              # 其他脚本

# 根目录脚本
build-for-linux.sh    # Linux构建脚本（新增）
deploy_to_servers.sh   # 批量部署脚本（新增）
verify_deployment.sh   # 部署验证脚本（新增）
start-monitoring.sh    # 监控启动脚本
```

## 🔥 新增文件（海光DCU支持）

### 核心代码
- `internal/pkg/hygonprovider/` - 海光DCU数据提供者
- `internal/pkg/collector/hygon_collector.go` - 海光DCU收集器
- `etc/hygon-counters.csv` - 海光DCU指标配置

### 部署配置
- `deployment/hygon-dcgm-exporter.yaml` - K8s部署配置
- `docker/Dockerfile.hygon` - Docker镜像配置

### 构建脚本
- `build-for-linux.sh` - Linux环境构建脚本
- `scripts/build-hygon.sh` - 海光DCU专用构建脚本

### 部署工具
- `deploy_to_servers.sh` - 批量部署到多台服务器
- `verify_deployment.sh` - 验证部署状态

## 🎯 使用建议

### 新用户
1. 先阅读 **[README.md](README.md)** 了解项目概述
2. 参考 **[快速开始.md](快速开始.md)** 进行部署
3. 遇到问题查看故障排除章节

### 开发者
1. 查看 **[CONTRIBUTING.md](CONTRIBUTING.md)** 了解贡献流程
2. 参考 `internal/` 目录了解代码结构
3. 使用 `scripts/` 目录的构建脚本

### 运维人员
1. 使用 `deployment/` 目录的配置文件
2. 参考 `prometheus/` 和 `grafana/` 配置监控
3. 使用批量部署脚本管理多台服务器

## 🧹 文档精简说明

已删除的重复文档：
- ~~`DEBUG_GUIDE.md`~~ → 合并到 `快速开始.md`
- ~~`HYGON_IMPLEMENTATION_SUMMARY.md`~~ → 合并到 `README.md`
- ~~`QUICK_DEPLOY.md`~~ → 合并到 `快速开始.md`
- ~~`README_HYGON.md`~~ → 合并到 `快速开始.md`
- ~~`DEPLOYMENT_GUIDE.md`~~ → 合并到 `快速开始.md`
- ~~`README_CN.md`~~ → 合并到 `README.md`

现在只需要关注两个主要文档：
- **README.md** - 项目概述和快速开始
- **快速开始.md** - 完整的使用指南

---

**📖 文档已精简完成，使用更加便捷！**
